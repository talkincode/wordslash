# 保留率仪表盘使用指南

## 📊 什么是保留率？

**保留率（Retention Rate）** 是衡量你学习效果的关键指标：

```
保留率 = (Good + Easy 评分数) / 总评分数
```

- **高保留率 (≥80%)**: 说明你对卡片掌握良好，记忆牢固 ✅
- **中等保留率 (60-79%)**: 需要更多复习，适当调整学习策略 ⚠️
- **低保留率 (<60%)**: 建议降低学习强度，或检查学习方法 ❌

## 🎯 如何查看仪表盘

1. 在 VS Code 左侧活动栏点击 **WordSlash** 图标
2. 在侧边栏中查看 **Retention Rate** 仪表盘
3. 仪表盘显示：
   - **彩色弧线**: 可视化保留率水平
   - **动态指针**: 指向当前保留率位置
   - **百分比数值**: 精确的保留率数字
   - **说明文字**: "Good/Easy Reviews"

## 🎨 颜色含义

| 颜色 | 保留率 | 状态 |
|------|--------|------|
| 🟢 **绿色** | 90%+ | 优秀！继续保持 |
| 🟢 **浅绿** | 80-89% | 良好，稳步前进 |
| 🟡 **黄色** | 70-79% | 一般，需要加强 |
| 🟠 **橙色** | 60-69% | 需改进学习方法 |
| 🔴 **红色** | <60% | 建议调整策略 |

## 💡 提升保留率的建议

### 当保留率较低时 (<70%)

1. **减少新卡片学习量**
   - 设置: `wordslash.newCardsPerDay` 降到 10 张/天

2. **更频繁复习**
   - 每天至少完成所有到期卡片

3. **使用助记技巧**
   - 为难记的单词添加个人笔记
   - 利用词根词缀（morphemes）

4. **检查卡片质量**
   - 删除过难或不常用的卡片
   - 确保例句清晰易懂

### 当保留率很高时 (>90%)

1. **增加新卡片**
   - 可以提高每日新卡片数量

2. **加快学习节奏**
   - 对简单卡片大胆使用 "Easy"

3. **拓展学习范围**
   - 添加更高级的词汇
   - 尝试短语和句子卡片

## 🔄 更新时机

仪表盘会在以下情况自动更新：

- ✅ 打开侧边栏时
- ✅ 完成复习后
- ✅ 点击 "🔄 Refresh" 按钮
- ✅ 切换回 WordSlash 侧边栏时

## 📈 示例解读

### 示例 1: 新手学习者
```
总评分: 50 次
- Again: 15 次
- Hard: 10 次
- Good: 20 次
- Easy: 5 次

保留率 = (20 + 5) / 50 = 50% 🔴
```
**建议**: 这是正常的新手阶段，降低学习量，巩固已学内容。

### 示例 2: 进步中
```
总评分: 200 次
- Again: 20 次
- Hard: 30 次
- Good: 120 次
- Easy: 30 次

保留率 = (120 + 30) / 200 = 75% 🟡
```
**建议**: 保持现有节奏，继续积累复习次数。

### 示例 3: 熟练掌握
```
总评分: 500 次
- Again: 10 次
- Hard: 30 次
- Good: 300 次
- Easy: 160 次

保留率 = (300 + 160) / 500 = 92% 🟢
```
**建议**: 优秀！可以增加学习难度或新词量。

## ⚙️ 技术细节

### 计算方式
```typescript
// 在 storage/stats.ts 中
const positiveRatings = ratingsDistribution.good + ratingsDistribution.easy;
const retentionRate = totalReviews > 0 
  ? positiveRatings / totalReviews 
  : 0;
```

### 数据范围
- **最小值**: 0 (0%)
- **最大值**: 1 (100%)
- **显示格式**: 整数百分比

### 仪表盘刻度
```
        100%
         /
    80% | 90%
        |
60% ----+---- 70%
    \   |
     40-50%
      \ |
       0%
```

## 🎓 学习建议

### 目标设定
- **初学者**: 目标 60% → 70%
- **中级**: 目标 70% → 80%
- **高级**: 目标 80% → 90%+

### 长期策略
1. **每周检查**: 查看保留率趋势
2. **月度回顾**: 分析哪些类型卡片保留率低
3. **持续优化**: 根据数据调整学习方法

### 警示信号
⚠️ **如果保留率持续下降**：
- 检查是否学习过量
- 评估卡片难度是否合适
- 考虑是否需要休息调整

## 🔍 故障排查

### Q: 仪表盘显示 0%？
A: 可能还没有任何复习记录，完成几次复习后即可显示。

### Q: 数据不更新？
A: 点击侧边栏的 "🔄 Refresh" 按钮手动刷新。

### Q: 保留率异常？
A: 检查是否有大量旧卡片未复习，建议先完成到期卡片。

---

**祝学习进步！** 🚀📚
